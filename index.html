<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Nexus Churchs — WOW Display</title>

<link rel="stylesheet" href="styles.css">

<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

<!-- jsPDF -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>

<body>

<header class="topbar">
  <div class="brand">
    <div class="logo">NC</div>
    <div>
      <div class="brandTitle">Nexus Churchs</div>
      <div class="brandSub">WOW Display Mode · Sesiones · Historial · PDF</div>
    </div>
  </div>

  <div class="topActions">
    <div class="chip">
      <span class="chipLabel">Iglesia</span>
      <select id="churchSelect" title="Selecciona la iglesia"></select>
    </div>

    <button id="btnCopyLink" class="ghost" type="button">Copiar Link</button>

    <div class="kpiBox">
      Total Sesión
      <b id="totalCount">0</b>
    </div>
  </div>
</header>

<div class="grid">

  <!-- PANEL OPERACIÓN -->
  <section class="card">
    <h2>Sesión (Servicio)</h2>

    <div class="sessionBar">
      <div id="sessionPill" class="pill bad">CERRADA</div>
      <button id="btnOpenSession" type="button">Abrir</button>
      <button id="btnCloseSession" type="button" class="ghost" disabled>Cerrar</button>
    </div>

    <input id="sessionTitle" placeholder="Nombre de la sesión (ej: Domingo 10AM)" />
    <div class="hint" id="sessionMeta">—</div>

    <hr class="sep">

    <h2>Registro Rápido</h2>

    <form id="checkinForm" autocomplete="off">
      <input id="fullName" placeholder="Nombre y Apellido" required>
      <div id="nameError" class="error" hidden>Nombre + apellido requerido</div>

      <div class="quickBtns">
        <button type="button" class="q" data-n="1">1</button>
        <button type="button" class="q" data-n="2">2</button>
        <button type="button" class="q" data-n="3">3</button>
        <button type="button" class="q" data-n="4">4</button>
        <button type="button" class="q" data-n="5">5</button>
      </div>

      <input id="partySize" type="number" value="1" min="1">
      <button id="btnCheckin">Registrar</button>
    </form>

    <hr class="sep">

    <h2>Historial</h2>
    <div class="hint">Exporta PDF por sesión cerrada (o abierta si quieres).</div>
    <div id="historyList" class="history"></div>
  </section>

  <!-- DISPLAY WOW -->
  <section class="card display wow" id="displayCard">
    <button id="btnFullscreen" class="ghost fsBtn" type="button">⛶</button>

    <div class="welcomeWrap">
      <div id="welcomeBig" class="welcomeBig">Bienvenidos</div>
      <div class="welcomeSub" id="welcomeSub">Nos alegra su visita</div>
    </div>

    <div class="ticker">
      <div id="tickerTrack" class="tickerTrack"></div>
    </div>
  </section>

</div>

<script src="app.js"></script>
</body>
</html>
